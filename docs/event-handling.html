<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <title>MontageJS Event Handling</title>

    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600">
    <link rel="stylesheet" href="/stylesheets/normalize.css">
    <link rel="stylesheet" href="/stylesheets/base.css">
    <link rel="stylesheet" href="/stylesheets/pages.css">
    <link rel="stylesheet" href="/stylesheets/solarized.css">
    <link rel="stylesheet" href="/stylesheets/teaser.css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    
    
  </head>


<body>
  <header class="header">
    <div class="header-container">
        <a class="logo " href="/">Home</a>
        
        <input id="nav-toggle" class="nav-toggle nav-toggle--main" type="checkbox">
        <label class="nav-toggleLabel nav-toggleLabel--main" for="nav-toggle" onclick></label>
        
        <nav class="nav">
            <a class="nav-item " href="/">Home</a>
            <a class="nav-item " href="/apps">Apps</a>
            <a class="nav-item " href="/docs">Docs</a>
            <a class="nav-item " href="/api/AbstractButton.html">API</a>
            <a class="nav-item " href="/community">Community</a>
            <a class="nav-item " href="/blog">Blog</a>
            <a class="nav-item nav-item--teaser " href="/reveal/"></a>
            <a class="nav-item nav-item--fork" href="https://github.com/montagejs/montage" target="_blank">Source</a>
        </nav>
        
    </div>
</header>


      <section id="docs" class="docs withSubnav">
        
        <div class="wrapper">
            
                
<input id="subnav-toggle" class="nav-toggle nav-toggle--sub" type="checkbox">
<label class="nav-toggleLabel nav-toggleLabel--sub" for="subnav-toggle" onclick></label>

            <nav class="subnav">
    
    <details open>
        <summary>Quick Start</summary>
        <a href="montagejs-setup.html" >Set Up</a>
        <a href="hello-montagejs.html" >Hello MontageJS</a>
    </details>

    <details open>
        <summary>Demos</summary>
        <a href="montagejs-examples.html" >Examples</a>
        <a href="http://montagejs.github.com/mfiddle/" target="_blank">Mfiddle</a>
        
    </details>

    <details open>
        <summary>Concepts</summary>
        <a href="montagejs-templates.html" >Templates</a>
        <a href="exploring-components.html" >Components</a>
        <a href="serialization-format.html" >Declaration</a>
        <a href="montagejs-objects.html" >Objects</a>
        <a href="data-binding.html" >Data Binding</a>
        <a href="event-handling.html" class="active">Event Handling</a>
        <a href="draw-cycle.html" >Draw Cycle</a>
    </details>

    <details open>
        <summary>Tutorials</summary>
        <a href="tutorial-reddit-client-with-montagejs.html" >Reddit Client with MontageJS</a>
        <a href="tutorial-3d-applications-with-montagejs.html" >Building 3D Applications</a>
    </details>
    
    <details open>
        <summary>UI Containers</summary>
        <a href="repetition.html" >Repetition</a>
        <a href="substitution.html" >Substitution</a>
        <a href="overlay.html" >Overlay</a>
    </details>    

    <details open>
        <summary>UI Sets</summary>
        <a href="themes.html" >Introduction</a>
        <a href="theme-digit-components.html" >Digit</a>
        <a href="theme-matte-components.html" >Matte</a>
        <a href="theme-native-components.html" >Native</a>
    </details>
    
    <details open>
        <summary>Tools</summary>
        <a href="tools-minit.html" >Minit</a>
        <a href="tools-mop.html" >Mop</a>
    </details>
    
    <details open>
        <summary>Help</summary>
        <a href="faq.html" >FAQ</a>
        <a href="troubleshooting.html" >Troubleshooting</a>
    </details>
    
</nav>

            
            <div class="main">
            
                <a href="https://github.com/montagejs/montagejs.org/tree/gh-pages/docs/event-handling.md" class="edit">Improve this</a>
                
                <article class="content">
                    <h1 id="event-handling">Event Handling</h1>

<blockquote>
  <p><strong>Note:</strong> We are currently in the process of updating our docs. This document may not be complete or fully up-to-date yet. We apologize for any inconvenience.</p>
</blockquote>

<p>Montage includes a custom event manager that transparently wraps the browser’s native event handling mechanism. This enables several features in Montage, including simpler event handling code, property change observing, and results in better performing web applications.</p>

<h2 id="about-event-delegation">About Event Delegation</h2>
<p>Montage uses <em>event delegation</em> to manage event handling and dispatching. With event delegation, instead of installing event listeners on every element that may dispatch an event, a single event listener is installed on a parent element that listens for and responds to events that target its children. This is made possible by the standard event “flow” defined by the <a href="http://www.w3.org/TR/DOM-Level-3-Events/#event-flow">DOM Level 3 Event Specification</a>.</p>

<p>Event delegation provides several benefits. For instance, application performance is improved since the number of event listeners is reduced. In a Montage application there is only one “native” event listener, which acts as the primary event responder and dispatcher of all events. It also enables Montage applications to observe changes to property values and arrays.</p>

<h2 id="creating-event-handlers">Creating Event Handlers</h2>
<p>You use the standard <code class="language-plaintext highlighter-rouge">addEventListener()</code> method to register an event handler on a target object. In Montage, the <code class="language-plaintext highlighter-rouge">target</code> object can be any JavaScript object, not just a DOM element.</p>

<p><code class="language-plaintext highlighter-rouge">target.addEventListener(eventType, listener[, useCapture]);</code></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">eventType </code> A string representing the event type.</li>
  <li><code class="language-plaintext highlighter-rouge">listener</code> An object that implements the Montage event listener interface, or a function to call directly.</li>
  <li><code class="language-plaintext highlighter-rouge">useCapture</code> A boolean that, if true, causes all events of the specified type to be dispatched to the registered listener before being dispatched to any other event target beneath it in the DOM tree. By default, this is property is <code class="language-plaintext highlighter-rouge">false</code>.</li>
</ul>

<h3 id="montage-event-listener-interface">Montage Event Listener Interface</h3>
<p>The Montage event listener interface extends the <a href="http://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#interface-EventListener">DOM Level 3 EventListener interface</a> specification implemented by all modern web browsers. In the standard interface you specify an object as a “listener” object for an event type. The listener object defines an <code class="language-plaintext highlighter-rouge">handleEvent()</code> method that is invoked by the browser whenever the specified event occurs:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// DOM Level 3 EventListener interface</span>
<span class="kd">var</span> <span class="nx">listenerObj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">handleEvent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Got 'mousedown' event.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">loginBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#loginBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">mousedown</span><span class="dl">"</span><span class="p">,</span> <span class="nx">listenerObj</span><span class="p">);</span>
</code></pre></div></div>

<p>Montage extends this interface to make it more useful for developers. Instead of calling the same <code class="language-plaintext highlighter-rouge">handleEvent()</code> method on the listener object, Montage infers the name of the specific event handler to call from three pieces of information:</p>

<ul>
  <li>The event’s phase (bubble or capture)</li>
  <li>The event name</li>
  <li>Optionally, a string identifier property on the target element or object</li>
</ul>

<p>The following pseudo-code shows how the event manager determines what method to call on the listener object:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">methodToInvoke</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
<span class="nx">identifier</span> <span class="o">=</span> <span class="nx">eventTarget</span><span class="p">.</span><span class="nx">identifier</span><span class="p">;</span>
<span class="k">if </span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">phase</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">bubble</span><span class="dl">"</span> <span class="p">)</span> <span class="p">{</span>
   <span class="nx">methodToInvoke</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">handle</span><span class="dl">"</span> <span class="o">+</span> 
                     <span class="p">(</span><span class="nx">identifier</span> <span class="p">?</span> <span class="nx">identifier</span><span class="p">.</span><span class="nf">toCapitalized</span><span class="p">()</span> <span class="p">:</span> <span class="dl">""</span><span class="p">)</span> <span class="o">+</span>
                     <span class="nx">eventType</span><span class="p">.</span><span class="nf">toCapitalized</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
   <span class="nx">methodtoInvoke</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">capture</span><span class="dl">"</span> <span class="o">+</span> 
                    <span class="p">(</span><span class="nx">identifier</span> <span class="p">?</span> <span class="nx">identifier</span><span class="p">.</span><span class="nf">toCapitalized</span><span class="p">()</span> <span class="p">:</span> <span class="dl">""</span><span class="p">)</span> <span class="o">+</span> 
                     <span class="nx">eventType</span><span class="p">.</span><span class="nf">toCapitalized</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The easiest way to understand how this works is to look at some examples.</p>

<h3 id="examples">Examples</h3>
<p>The following code is almost identical to the previous example (without Montage), except that the handler method is named <code class="language-plaintext highlighter-rouge">handleMousedown()</code> instead of <code class="language-plaintext highlighter-rouge">handleEvent()</code>. This method will be invoked automatically by the event manager when the <code class="language-plaintext highlighter-rouge">mousedown</code> event occurs on <code class="language-plaintext highlighter-rouge">loginBtn</code>, but only during the event’s bubble phase.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Listening for mousedown event during bubble phase</span>
<span class="kd">var</span> <span class="nx">listenerObj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">handleMousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Got 'mousedown' event.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">loginBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#loginBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">mousedown</span><span class="dl">"</span><span class="p">,</span> <span class="nx">listenerObj</span><span class="p">);</span>
</code></pre></div></div>

<p>To listen for the same event during its capture phase, you pass <code class="language-plaintext highlighter-rouge">true</code> as the third parameter to <code class="language-plaintext highlighter-rouge">addEventListener()</code>, and change the name of the event handler from <code class="language-plaintext highlighter-rouge">handleMousedown()</code> to <code class="language-plaintext highlighter-rouge">captureMousedown()</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Listening for capture events on same element </span>
<span class="kd">var</span> <span class="nx">listenerObj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">captureMousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Got 'mousedown' event during bubble phase.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">loginBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#loginBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">mousedown</span><span class="dl">"</span><span class="p">,</span> <span class="nx">listenerObj</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span> <span class="c1">// useCapture = true</span>
</code></pre></div></div>

<p>You can further specialize the event handler name by adding an <code class="language-plaintext highlighter-rouge">identifier</code> to the event target. The event manager includes this string, with its first letter capitalized, in the method name it composes. In the following example, the string “<strong>login</strong>” is assigned to the <code class="language-plaintext highlighter-rouge">loginBtn</code>‘s <code class="language-plaintext highlighter-rouge">identifier</code> property, so the event listener defines a <code class="language-plaintext highlighter-rouge">handleLoginMousedown()</code> function.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Using identifier strings on target elements</span>
<span class="kd">var</span> <span class="nx">listenerObj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="c1">// Listener for loginBtn</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">handleLoginMousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">mousedown on loginBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">loginBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#loginBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">// Assign string identifier to button</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nx">identifier</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">mousedown</span><span class="dl">"</span><span class="p">,</span> <span class="nx">listenerObj</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="event-handler-precedence">Event handler precedence</h3>
<p>The event manager will always invoke the most specific event handler. For instance, in the following example the listener object defines two event handlers, one that includes the target’s identifier string (<code class="language-plaintext highlighter-rouge">handleLoginBtnMousedown()</code>) and one that doesn’t (<code class="language-plaintext highlighter-rouge">handleMousedown()</code>). Montage will always invoke <code class="language-plaintext highlighter-rouge">handleLoginBtnMousedown()</code> as its purpose is more specific than the other.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Event handler precedence</span>
<span class="kd">var</span> <span class="nx">listenerObj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">handleMousedown</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="c1">// This won't get called.</span>
     <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Got 'mousedown' event.</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">handleLoginbtnMousedown</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Got 'mousedown' event on event.target</span><span class="dl">"</span><span class="p">);</span> 
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">loginBtn</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#loginBtn</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nx">identifier</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">mousedown</span><span class="dl">"</span><span class="p">,</span> <span class="nx">listenerObj</span><span class="p">);</span>
</code></pre></div></div>

<p>Note that if <code class="language-plaintext highlighter-rouge">loginBtn</code> did not define an <code class="language-plaintext highlighter-rouge">identifier</code> property, the event manager would invoke <code class="language-plaintext highlighter-rouge">handleMousedown()</code>.</p>

<p>Also, Montage will invoke the listener’s generic <code class="language-plaintext highlighter-rouge">handleEvent()</code> method, if it exists, and if a more specifically named handler is not declared. This provides a fallback mechanism to respond to “generic” events.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Using default handleEvent() handler</span>
<span class="kd">var</span> <span class="nx">listenerObj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">captureClickEvent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Got click event</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">listenerObj</span><span class="p">.</span><span class="nx">handleEvent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">No specific handler for </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">mousedown</span><span class="dl">"</span><span class="p">,</span> <span class="nx">listenerObj</span><span class="p">);</span>
<span class="nx">loginBtn</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="nx">listenerObj</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="declaring-event-listeners-in-a-serialization">Declaring event listeners in a serialization</h2>
<p>Each object in a serialization may include a “listeners” object that specifies the event type, listener object, and (optionally) whether to enable capture for the event.</p>

<p>First you create the listener object, which contains a <code class="language-plaintext highlighter-rouge">handleAction()</code> method. This method changes the <code class="language-plaintext highlighter-rouge">value</code> property of the Montage Button component that dispatched the event, setting its label.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// controller.js</span>
<span class="kd">var</span> <span class="nx">Montage</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">montage/core/core</span><span class="dl">"</span><span class="p">).</span><span class="nx">Montage</span><span class="p">;</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">Controller</span> <span class="o">=</span> <span class="nx">Montage</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="nx">Montage</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">handleAction</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">value</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Well done</span><span class="dl">"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Next we create the HTML page that declares the Button component and the custom Controller object. The Button component’s <code class="language-plaintext highlighter-rouge">listeners</code> property specifies the type of event to listen for (<code class="language-plaintext highlighter-rouge">action</code>) and the listener object that will handle the event.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
 ...
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/montage-serialization"</span><span class="nt">&gt;</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">button</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Button</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">module</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">montage/ui/button.reel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">properties</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span><span class="dl">"</span><span class="s2">#</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">btn</span><span class="dl">"</span><span class="p">}</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">listeners</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">listener</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span><span class="dl">"</span><span class="s2">@</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">controller</span><span class="dl">"</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>

    <span class="dl">"</span><span class="s2">controller</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Controller</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">module</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">controller</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
 ...
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>You can also specify the <code class="language-plaintext highlighter-rouge">identifier</code> string in the serialization, as shown below:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"button"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Button"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"montage/ui/button.reel"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"element"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"#"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btn"</span><span class="p">},</span><span class="w">
            </span><span class="nl">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"purchase"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"listeners"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"action"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"listener"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"@"</span><span class="p">:</span><span class="w"> </span><span class="s2">"controller"</span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">

    </span><span class="nl">"controller"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Controller"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"module"</span><span class="p">:</span><span class="w"> </span><span class="s2">"controller"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

                </article>

                <nav class="paging">
                    <a class="button paging--prev " href="/docs/data-binding.html">Prev</a>
                    <a class="button paging--next " href="/docs/draw-cycle.html">Next</a>
                </nav>

                <div id="comments" class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'montagejs'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
            </div>
            
        </div>
        
    </section>
    

  <footer class="footer">

    <div class="wrapper">
    	
    	<ul class="sitemap">
            <li>
                <a href="/" class="sitemap-main">Home</a>
            </li>
            <li>
                <a href="/apps/" class="sitemap-main">Apps</a>
                <a href="/apps/#gallery">Gallery</a>
            </li>
            <li>
                <a href="/docs/" class="sitemap-main">Docs</a>
                <a href="/docs/montagejs-setup.html">Set Up</a>
                <a href="/docs/hello-montagejs.html">Hello MontageJS</a>
                <a href="/docs/montagejs-examples.html">Examples</a>
                <a href="/docs/themes.html">Themes</a>
                <a href="/docs/faq.html">FAQ</a>
            </li>
            <li>
                <a href="/api/" class="sitemap-main">API</a>
            </li>
            <li>
                <a href="/community/" class="sitemap-main">Community</a>
                <a href="/community/forum/">Forum</a>
                <a href="/community/meet-ups/">Meet-ups</a>
                <a href="/community/events/">Events</a>
                <a href="/community/contact-us/">Contact us</a>
            </li>
            <li>
                <a class="sitemap-main" href="/blog/">Blog</a>
            </li>
    	</ul>
	    
	    
	    <p class="footer-end">2012–2014 MontageJS — Open source and licensed under <a href="https://github.com/montagejs/montage/blob/master/LICENSE.md" target="_blank">BSD</a> | <a href="https://github.com/montagejs/montage/" target="_blank">GitHub</a> | <a href="https://github.com/montagejs?tab=members" target="_blank">Team</a></p>
    </div>

</footer>

  <!-- Google -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-35717912-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</body>
</html>
