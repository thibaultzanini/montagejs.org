require("runtime/dependencies/gl-matrix");var Base=require("runtime/base").Base,Utilities=require("runtime/utilities").Utilities;exports.Node=Object.create(Base,{_children:{value:null,writable:!0},children:{get:function(){return this._children},set:function(e){this._children=e}},_id:{value:null,writable:!0},id:{get:function(){return this._id},set:function(e){this._id=e}},_hidden:{value:null,writable:!0},hidden:{get:function(){return this._hidden},set:function(e){this._hidden=e}},_computeBBOXIfNeeded:{enumerable:!1,value:function(){if(!this._boundingBox){var e=this._properties.meshes,t=this.meshes.length;if(t>0){var n=this.meshes[0].boundingBox;if(n){var r;for(r=1;r<t;r++){var i=this.meshes[r].boundingBox;i&&(n=Utilities.mergeBBox(n,i))}this._boundingBox=n}}}}},_boundingBox:{enumerable:!1,value:null,writable:!0},boundingBox:{enumerable:!0,get:function(){return this._computeBBOXIfNeeded(),this._boundingBox},set:function(e){this._boundingBox=e}},meshesDidChange:{value:function(e){this._boundingBox=null}},init:{value:function(){this.__Base_init(),this._children=[],this._transform=mat4.identity(),this._properties.meshes=[];var e=this;return this._properties.meshes.push=function(t){var n=Array.prototype.push.call(this,t);return e.meshesDidChange(this),n},this._properties.cameras=[],this._properties.lights=[],this}},getPropertyArrayNamed:{value:function(e){return this._properties[e]}},_transform:{value:null,writable:!0},transform:{get:function(){return this._transform},set:function(e){this._transform=e}},meshes:{get:function(){return this.getPropertyArrayNamed("meshes")},set:function(e){this._properties.meshes=e,this.meshesDidChange(e)}},cameras:{get:function(){return this.getPropertyArrayNamed("cameras")},set:function(e){this._properties.cameras=e}},lights:{get:function(){return this.getPropertyArrayNamed("lights")},set:function(e){this._properties.lights=e}},_apply:{value:function(e,t,n,r){e&&(r=e(this,n,r),t&&this.children.forEach(function(n){n._apply(e,t,this,r)},this))}},apply:{value:function(e,t,n){this._apply(e,t,null,n)}},_nodeWithName:{value:function(e){if(this.name===e)return this;if(this.children)for(var t=0;t<this.children.length;t++){var n=this.children[t],r=n._nodeWithName(e);if(r)return r}return null}},nodeWithName:{value:function(e){return this._nodeWithName(e)}},_nodeWithID:{value:function(e){if(this.id===e)return this;if(this.children)for(var t=0;t<this.children.length;t++){var n=this.children[t],r=n._nodeWithID(e);if(r)return r}return null}},nodeWithID:{value:function(e){return this._nodeWithID(e)}}})