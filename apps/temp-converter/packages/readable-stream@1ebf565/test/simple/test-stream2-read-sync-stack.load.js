montageDefine("1ebf565","test/simple/test-stream2-read-sync-stack",{dependencies:["../common","assert","../../readable"],factory:function(e){e("../common");var t=e("assert"),n=e("../../readable").Readable,r=new n,i=262144;process.maxTickDepth=i+2;var a=0;r._read=function(){var e=a++===i?null:new Buffer(1);r.push(e)},r.on("readable",function(){r._readableState.length%256||console.error("readable",r._readableState.length),r.read(2*i)});var o=!1;r.on("end",function(){o=!0}),r.read(0),process.on("exit",function(){t(o),console.log("ok")})}});