function TestReader(){R.apply(this),this._buffer=new Buffer(100),this._buffer.fill("x"),this.on("data",function(){ondataCalled++})}var common=require("../common.js"),R=require("../../lib/_stream_readable"),assert=require("assert"),util=require("util"),EE=require("events").EventEmitter,ondataCalled=0;util.inherits(TestReader,R),TestReader.prototype._read=function(){this.push(this._buffer),this._buffer=new Buffer(0)};var reader=new TestReader;assert.equal(ondataCalled,1);