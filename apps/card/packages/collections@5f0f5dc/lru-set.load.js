montageDefine("5f0f5dc","lru-set",{dependencies:["./shim","./set","./generic-collection","./generic-set","./listen/property-changes","./listen/range-changes"],factory:function(e,t,n){"use strict";function f(e,t,n,r,s){if(!(this instanceof f))return new f(e,t,n,r,s);t=t||Infinity,n=n||Object.equals,r=r||Object.hash,s=s||Function.noop,this.store=new i(undefined,n,r),this.contentEquals=n,this.contentHash=r,this.getDefault=s,this.maxLength=t,this.length=0,this.addEach(e)}var r=e("./shim"),i=e("./set"),s=e("./generic-collection"),o=e("./generic-set"),u=e("./listen/property-changes"),a=e("./listen/range-changes");n.exports=f,Object.addEach(f.prototype,s.prototype),Object.addEach(f.prototype,o.prototype),Object.addEach(f.prototype,u.prototype),Object.addEach(f.prototype,a.prototype),f.prototype.constructClone=function(e){return new this.constructor(e,this.maxLength,this.contentEquals,this.contentHash,this.getDefault)},f.prototype.has=function(e){return this.store.has(e)},f.prototype.get=function(e){return e=this.store.get(e),e!==undefined?(this.store["delete"](e),this.store.add(e)):e=this.getDefault(e),e},f.prototype.add=function(e){var t=this.store.has(e),n=this.length;t&&(this.store["delete"](e),n--),!t&&this.dispachesRangeChanges&&this.dispatchBeforeRangeChange([e],[],0),this.store.add(e),n++,this.length=n,!t&&this.dispatchesRangeChanges&&this.dispatchRangeChange([e],[],0);if(this.store.length>this.maxLength){var r=this.store.order.head.next;return this["delete"](r.value),!1}return!t},f.prototype["delete"]=function(e){var t=this.store.has(e);return t&&(this.dispatchesRangeChanges&&this.dispatchBeforeRangeChange([],[e],0),this.store["delete"](e),this.length--,this.dispatchesRangeChanges&&this.dispatcheRangeChange([],[e],0)),t},f.prototype.one=function(){if(this.length>0)return this.store.one()},f.prototype.clear=function(){this.store.clear(),this.length=0},f.prototype.reduce=function(e,t){var n=arguments[2],r=this.store,i=0;return r.reduce(function(t,r){return e.call(n,t,r,i++,this)},t,this)},f.prototype.reduceRight=function(){var e=arguments[2],t=this.store,n=this.length-1;return t.reduceRight(function(t,r){return callback.call(e,t,r,n--,this)},basis,this)},f.prototype.iterate=function(){return this.store.iterate()}}})