"use strict";function GenericCollection(){throw new Error("Can't construct. GenericCollection is a mixin.")}module.exports=GenericCollection,GenericCollection.prototype.addEach=function(e){if(e&&Object(e)===e)if(typeof e.forEach=="function")e.forEach(this.add,this);else if(typeof e.length=="number")for(var t=0;t<e.length;t++)this.add(e[t],t);else Object.keys(e).forEach(function(t){this.add(e[t],t)},this);return this},GenericCollection.prototype.deleteEach=function(e,t){return e.forEach(function(e){this["delete"](e,t)},this),this},GenericCollection.prototype.forEach=function(e){var t=arguments[1];return this.reduce(function(n,r,i,s,o){e.call(t,r,i,s,o)},undefined)},GenericCollection.prototype.map=function(e){var t=arguments[1],n=[];return this.reduce(function(r,i,s,o,u){n.push(e.call(t,i,s,o,u))},undefined),n},GenericCollection.prototype.enumerate=function(e){e==null&&(e=0);var t=[];return this.reduce(function(n,r){t.push([e++,r])},undefined),t},GenericCollection.prototype.group=function(e,t,n){n=n||Object.equals;var r=[],i=[];return this.forEach(function(s,o,u){var o=e.call(t,s,o,u),a=i.indexOf(o,n),f;a===-1?(f=[],r.push([o,f]),i.push(o)):f=r[a][1],f.push(s)}),r},GenericCollection.prototype.toArray=function(){return this.map(Function.identity)},GenericCollection.prototype.toObject=function(){var e={};return this.reduce(function(t,n,r){e[r]=n},undefined),e},GenericCollection.prototype.filter=function(e){var t=arguments[1],n=this.constructClone();return this.reduce(function(r,i,s,o,u){e.call(t,i,s,o,u)&&n.add(i)},undefined),n},GenericCollection.prototype.every=function(e){var t=arguments[1];return this.reduce(function(n,r,i,s,o){return n&&e.call(t,r,i,s,o)},!0)},GenericCollection.prototype.some=function(e){var t=arguments[1];return this.reduce(function(n,r,i,s,o){return n||e.call(t,r,i,s,o)},!1)},GenericCollection.prototype.all=function(){return this.every(Boolean)},GenericCollection.prototype.any=function(){return this.some(Boolean)},GenericCollection.prototype.min=function(e){e=e||this.contentCompare||Object.compare;var t=!0;return this.reduce(function(n,r){return t?(t=!1,r):e(r,n)<0?r:n},undefined)},GenericCollection.prototype.max=function(e){e=e||this.contentCompare||Object.compare;var t=!0;return this.reduce(function(n,r){return t?(t=!1,r):e(r,n)>0?r:n},undefined)},GenericCollection.prototype.sum=function(e){return e=e===undefined?0:e,this.reduce(function(e,t){return e+t},e)},GenericCollection.prototype.average=function(e){var t=e===undefined?0:e,n=e===undefined?0:e;return this.reduce(function(e,r){t+=r,n+=1},undefined),t/n},GenericCollection.prototype.concat=function(){var e=this.constructClone(this);for(var t=0;t<arguments.length;t++)e.addEach(arguments[t]);return e},GenericCollection.prototype.flatten=function(){var e=this;return this.reduce(function(t,n){return n.forEach(function(e){this.push(e)},t,e),t},[])},GenericCollection.prototype.zip=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),Array.unzip(e)},GenericCollection.prototype.sorted=function(e,t,n){return e=e||this.contentCompare||Object.compare,e.by?(t=e.by,e=e.compare||this.contentCompare||Object.compare):t=t||Function.identity,n===undefined&&(n=1),this.map(function(e){return{by:t(e),value:e}}).sort(function(t,r){return e(t.by,r.by)*n}).map(function(e){return e.value})},GenericCollection.prototype.reversed=function(){return this.constructClone(this).reverse()},GenericCollection.prototype.clone=function(e,t){if(e===undefined)e=Infinity;else if(e===0)return this;var n=this.constructClone();return this.forEach(function(r,i){n.add(Object.clone(r,e-1,t),i)},this),n},GenericCollection.prototype.only=function(){if(this.length===1)return this.one()},GenericCollection.prototype.iterator=function(){return this.iterate.apply(this,arguments)},require("./shim-array")