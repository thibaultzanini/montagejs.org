(function(){"use strict";function t(e){e.permitHostObjects___&&e.permitHostObjects___(t)}function c(e){return e.substr(0,u.length)!=u||e.substr(e.length-3)!=="___"}function p(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[a];if(t&&t.key===e)return t;if(!o(e))return void 0;var n=[],r=[];return t={key:e,gets:n,vals:r},s(e,a,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}function d(e){return e.prototype=null,Object.freeze(e)}if(typeof ses!="undefined"&&ses.ok&&!ses.ok())return;typeof ses!="undefined"&&(ses.weakMapPermitHostObjects=t);if(typeof WeakMap=="function"){var n=WeakMap;if(typeof navigator=="undefined"||!/Firefox/.test(navigator.userAgent)){module.exports=WeakMap;return}}var r=Object.prototype.hasOwnProperty,i=Object.getOwnPropertyNames,s=Object.defineProperty,o=Object.isExtensible,u="weakmap:",a=u+"ident:"+Math.random()+"___";if(typeof crypto!="undefined"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var f=new ArrayBuffer(25),l=new Uint8Array(f);crypto.getRandomValues(l),a=u+"rand:"+Array.prototype.map.call(l,function(e){return(e%36).toString(36)}).join("")+"___"}s(Object,"getOwnPropertyNames",{value:function(t){return i(t).filter(c)}});if("getPropertyNames"in Object){var h=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(t){return h(t).filter(c)}})}(function(){var e=Object.freeze;s(Object,"freeze",{value:function(n){return p(n),e(n)}});var t=Object.seal;s(Object,"seal",{value:function(n){return p(n),t(n)}});var n=Object.preventExtensions;s(Object,"preventExtensions",{value:function(t){return p(t),n(t)}})})();var v=function(){function n(r,i){var s=p(r),o,u;return s?(o=s.gets.indexOf(n),u=s.vals):(o=e.indexOf(r),u=t),o>=0?u[o]:i}function r(t){var r=p(t),i;return r?i=r.gets.indexOf(n):i=e.indexOf(t),i>=0}function i(r,i){var s=p(r),o;s?(o=s.gets.indexOf(n),o>=0?s.vals[o]=i:(s.gets.push(n),s.vals.push(i))):(o=e.indexOf(r),o>=0?t[o]=i:(e.push(r),t.push(i)))}function s(r){var i=p(r),s;return i?(s=i.gets.indexOf(n),s>=0&&(i.gets.splice(s,1),i.vals.splice(s,1))):(s=e.indexOf(r),s>=0&&(e.splice(s,1),t.splice(s,1))),!0}var e=[],t=[];return Object.create(v.prototype,{get___:{value:d(n)},has___:{value:d(r)},set___:{value:d(i)},delete___:{value:d(s)}})};v.prototype=Object.create(Object.prototype,{get:{value:function(t,n){return this.get___(t,n)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,n){this.set___(t,n)},writable:!0,configurable:!0},"delete":{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),typeof n=="function"?function(){function e(){function s(t,n){return r?e.has(t)?e.get(t):r.get___(t,n):e.get(t,n)}function o(t){return e.has(t)||(r?r.has___(t):!1)}function u(t,n){if(i)try{e.set(t,n)}catch(s){r||(r=new v),r.set___(t,n)}else e.set(t,n)}function a(t){e["delete"](t),r&&r.delete___(t)}var e=new n,r=undefined,i=!1;return Object.create(v.prototype,{get___:{value:d(s)},has___:{value:d(o)},set___:{value:d(u)},delete___:{value:d(a)},permitHostObjects___:{value:d(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");i=!0})}})}e.prototype=v.prototype,module.exports=e,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy!="undefined"&&(Proxy=undefined),module.exports=v)})()