montageDefine("fb87e57","filters/pinch.html",{text:'<!doctype html>\n\n<html>\n    <head>\n        <meta http-equiv=Content-Type content="text/html; charset=utf-8">\n\n        <script type="text/montage-serialization">{"owner":{"prototype":"shuriken/effect/effect","properties":{"profiles":{"GLSL":{"techniques":{"pinch":{"pass 0":{"x-shader/x-fragment":{"#":"filter-pinch-fs"},"x-shader/x-vertex":{"#":"filter-pinch-vs"}}}}}}}}}</script>\n\n    </head>\n\n<body>\n\n<script id=filter-pinch-fs type="x-shader/x-fragment">\n    #ifdef GL_ES\n    precision highp float;\n    #endif\n\n    uniform sampler2D uSampler;\n\n    varying vec2 vTexCoord;\n\n    void main(void)\n    {\n        float radius = 0.4;\n        float strength = -0.5;\n        vec2 center = vec2(0.5, 0.5);\n\n        vec2 coord = vTexCoord - center;\n        float distance = length(coord);\n        if (distance < radius) {\n            float percent = distance / radius;\n            if (strength > 0.0) {\n                coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n            } else {\n                coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n            }\n        }\n        coord += center;\n\n        gl_FragColor = texture2D(uSampler, coord);\n    }\n</script>\n\n<script id=filter-pinch-vs type="x-shader/x-vertex">\n    attribute vec3 aPosition;\n    attribute vec2 aTexCoord;\n\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjMatrix;\n\n    varying vec2 vTexCoord;\n\n    void main(void) {\n        vTexCoord = aTexCoord;\n        gl_Position = uProjMatrix * uModelViewMatrix * vec4(aPosition, 1.0);\n    }\n</script>\n\n</body>\n\n</html>'})