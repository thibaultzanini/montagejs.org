montageDefine("2649653","effect/effect-library",{dependencies:["montage/core/core","effect/effect","effect/effect-loader","default-effect-repository/default-effect-repository"],factory:function(e,t,n){var r=e("montage/core/core").Montage,i=e("effect/effect").Effect,s=e("effect/effect-loader").EffectLoader,o=e("default-effect-repository/default-effect-repository").DefaultEffectRepository;EffectLibrary=t.EffectLibrary=r.create(r,{_repositories:{value:{}},registerEffectRepository:{value:function(e,t){this._repositories[e]=t}},unregisterEffectRepository:{value:function(e){this._repositories[e]=null}},_registerDefaultRepositoryIfNeeded:{value:function(){var e="default";this._repositories[e]||this.registerEffectRepository(e,o.templates)}},effectNames:{get:function(e){var t;this._registerDefaultRepositoryIfNeeded();var n=[];return e?(t=this._repositories[e],n=Object.keys(t)):Object.keys(this._repositories).forEach(function(e){t=this._repositories[e],n=n.concat(Object.keys(t))},this),n}},effectWithName:{value:function(e,t){function r(e,n){t(e,n)}var n=this;this._registerDefaultRepositoryIfNeeded();var i=Object.keys(this._repositories);i&&i.forEach(function(t){var n=this._repositories[t],i=n[e];i&&s.loadEffect(r,e,i,n.__builtin_templates,null)},this)}}})}})